<!-- Perfil de exposición -->
<ng-container *ngIf="exhibition; else loadingOrError">
  <div class="exhibition-container">

    <!-- Card principal de la exposición -->
    <mat-card class="exhibition-card">
      <div class="exhibition-content">
        <!-- Contenido de la exposición (izquierda) -->
        <div class="exhibition-info">
          <mat-card-header>
            <mat-card-title>{{ exhibition.title }}</mat-card-title>
            <mat-card-subtitle>
              {{ exhibition.artist?.name }}
            </mat-card-subtitle>
          </mat-card-header>

          <mat-card-content>
            <p *ngIf="exhibition.description">{{ exhibition.description }}</p>
          </mat-card-content>
        </div>

        <!-- Imagen de la exposición (derecha) -->
        <div class="image-wrapper" *ngIf="exhibition.picture">
          <img [src]="exhibition.picture" [alt]="exhibition.title" class="exhibition-image">
        </div>
      </div>
    </mat-card>

    <!-- Bloque de artista -->
    <ng-container *ngIf="exhibition.artist as artist">
      <mat-card class="exhibition-card">
        <mat-card-title>Artista</mat-card-title>
        <mat-list>
          <mat-list-item>
            <div class="icon-text">
              <mat-icon color="accent">person</mat-icon>
              <a class="link" [routerLink]="['/artists', artist.id, 'profile']">
                {{ artist.name }}
              </a>
            </div>
          </mat-list-item>
        </mat-list>
      </mat-card>
    </ng-container>

    <!-- Bloque de galería -->
    <ng-container *ngIf="exhibition.gallery as gallery">
      <mat-card class="exhibition-card">
        <mat-card-title>Galería</mat-card-title>
        <mat-list>
          <mat-list-item>
            <div class="icon-text">
              <mat-icon color="accent">collections</mat-icon>
              <a class="link" [routerLink]="['/galleries', gallery.id, 'profile']">
                {{ gallery.name }}
              </a>
            </div>
          </mat-list-item>
        </mat-list>
      </mat-card>
    </ng-container>

    <!-- Bloque de obras -->
    <ng-container *ngIf="(exhibition?.artworks?.length ?? 0) > 0; else noObras">
      <mat-card class="exhibition-card">
        <mat-card-title>Obras</mat-card-title>
        <mat-list>
          <mat-list-item *ngFor="let artwork of exhibition?.artworks">
            🎨 {{ artwork.title }}
          </mat-list-item>
        </mat-list>
      </mat-card>
    </ng-container>

    <ng-template #noObras>
      <mat-card class="exhibition-card">
        <mat-card-title>Obras</mat-card-title>
        <mat-card-content>
          <p>No hay obras registradas en esta exposición.</p>
        </mat-card-content>
      </mat-card>
    </ng-template>

  </div>
</ng-container>

<!-- Loading y error -->
<ng-template #loadingOrError>
  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
  </div>
  <div *ngIf="error" class="error-container">
    <mat-icon color="warn">error</mat-icon> {{ error }}
  </div>
</ng-template>