<ng-container *ngIf="promotion; else loadingOrError">
  <div class="promotion-container">

    <!-- Card principal de la promoci√≥n -->
    <mat-card class="promotion-card">
      <mat-card-header>
        <mat-card-title>{{ promotion.code || 'Promoci√≥n sin c√≥digo' }}</mat-card-title>
        <mat-card-subtitle>Descuento: {{ promotion.discount }}%</mat-card-subtitle>
      </mat-card-header>

      <!-- Bloque de Galer√≠a -->
      <div class="lists-container">
        <ng-container *ngIf="promotion.gallery as gal">
          <mat-card class="list-card">
            <mat-card-title>Galer√≠a</mat-card-title>
            <a class="link" [routerLink]="['/galleries', gal.id, 'profile']">
              üñºÔ∏è {{ gal.name }}
            </a>
          </mat-card>
        </ng-container>

        <!-- Obras asociadas -->
        <ng-container *ngIf="promotion.artworks && promotion.artworks.length > 0; else noArtworks">
          <mat-card class="list-card">
            <mat-card-title>Obras asociadas</mat-card-title>
            <ul>
              <li *ngFor="let artwork of promotion.artworks">
                <a class="link" [routerLink]="['/artworks', artwork.id, 'profile']">
                  üé® {{ artwork.title }}
                </a>
              </li>
            </ul>
          </mat-card>
        </ng-container>
        <ng-template #noArtworks>
          <mat-card class="list-card">
            <mat-card-title>Obras asociadas</mat-card-title>
            <p class="empty-text">No hay obras asociadas a esta promoci√≥n.</p>
          </mat-card>
        </ng-template>
      </div>

      <!-- Descripci√≥n y fechas -->
      <mat-card-content>
        <p *ngIf="promotion.description">{{ promotion.description }}</p>
        <p><strong>Activa:</strong> {{ promotion.active ? 'S√≠' : 'No' }}</p>
        <p *ngIf="promotion.startDate"><strong>Inicio:</strong> {{ promotion.startDate |
          date:'shortDate' }}</p>
        <p *ngIf="promotion.endDate"><strong>Fin:</strong> {{ promotion.endDate | date:'shortDate'
          }}</p>
      </mat-card-content>
    </mat-card>

  </div>
</ng-container>

<ng-template #loadingOrError>
  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
  </div>
  <div *ngIf="error" class="error-container">
    <mat-icon color="warn">error</mat-icon> {{ error }}
  </div>
</ng-template>